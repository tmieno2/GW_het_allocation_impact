---
title: "CF using data aggregated by landowner"
author: "Shunkei Kakimoto"
output:
  html_document:
    number_sections: yes
    theme: flatly
    toc_float: yes
    toc: yes
    toc_depth: 3
geometry: margin=1in
---

```{r setup, include=FALSE}
library(knitr)
library(here)

here::i_am("GitControlled/Codes/2_4_cf_analysis_2008_2012.rmd")

# opts_knit$set(root.dir = "")
# opts_knit$set(root.dir = here())

knitr::opts_chunk$set(
  echo = TRUE,
  cache = FALSE,
  comment = NA,
  message = FALSE,
  warning = FALSE,
  tidy = FALSE,
  cache.lazy = FALSE,
  #--- figure ---#
  dpi = 400,
  fig.width = 7.5,
  fig.height = 5,
  out.width = "750px",
  out.height = "500px"
)

# /*===== Basic Packages  =====*/
# /*---- Data Wrangling ----*/
library(data.table)
library(tidyverse)
library(DescTools)
library(maps)

# /*---- Visualization ----*/
library(RColorBrewer)
library(patchwork)
library(ggplot2)
library(ggthemes)
library(ggpubr)
library(viridis)
library(grid)
library(gridExtra)
library(GGally)

# /*---- Model Summary ----*/
library(stats)
library(modelsummary)
library(flextable)
library(officer)
library(officedown)
library(gt)
```


# So far what I tried
+ To account for groundwater allocations transfered by a 
+ remove data on landowners who own multiple farmland across inside and outside of 5-mile buffers of LR side. 
+ Aggregate yearly well-level LR data by onwers
  * Take weighted average ($sum(volaf*12)/sum(acres)$)
+ However, the results does not change.....


# Next step
1. Use 10 miles buffer
2. Distinguish data by crop type: corn or soybean
  * crop water use in Nebraska ([source](https://www.corn-states.com/app/uploads/2018/07/water-use-in-corn-and-soybean.pdf))
  * corn requires more water than soybean
  * By each location of well, identify which crop was cultivated using Crop Layer Data (CDL)



